CREATE SCHEMA IF NOT EXISTS backend;
SET SCHEMA backend;

CREATE TABLE backend.AUTOR (
  ID BIGINT AUTO_INCREMENT NOT NULL,
  NOMBRE VARCHAR(200) NOT NULL,

  PRIMARY KEY(ID)
);

CREATE TABLE backend.GENERO (
  ID BIGINT AUTO_INCREMENT NOT NULL,
  NOMBRE VARCHAR(100) NOT NULL,

  PRIMARY KEY(ID)
);

CREATE TABLE backend.LIBRO (
  ID BIGINT AUTO_INCREMENT NOT NULL,
  TITULO VARCHAR(300) NOT NULL,
  AUTOR_ID BIGINT NOT NULL,
  ESTADO VARCHAR(255) NOT NULL,

  PRIMARY KEY(ID),
  FOREIGN KEY(AUTOR_ID) REFERENCES backend.AUTOR(ID)
);

CREATE TABLE backend.LIBRO_GENERO (
  LIBRO_ID BIGINT NOT NULL,
  GENERO_ID BIGINT NOT NULL,

  -- PRIMARY KEY(LIBRO_ID, GENERO_ID),
  -- FOREIGN KEY(LIBRO_ID) REFERENCES backend.LIBRO(ID),
  -- FOREIGN KEY(GENERO_ID) REFERENCES backend.GENERO(ID),
  CONSTRAINT PK_LIBRO_GENERO PRIMARY KEY (LIBRO_ID, GENERO_ID)
);
